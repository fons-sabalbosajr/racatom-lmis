/* src/pages/loan.css */

.loan-card {
  border-radius: 12px;
  color: var(--loan-text-color, #1f1f1f);
}

.loan-filters {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin: 16px 0;
}

.loan-search {
  width: 100%;
  max-width: 320px !important;
  height: 32px !important;
}

.loan-select {
  width: 100%;
  max-width: 180px !important;
}

.loan-table .ant-table {
  border-radius: 8px;
}

.loan-col-main {
  font-weight: 600;
}

.loan-col-sub {
  font-size: 12px;
}

/* Location cell: allow wrapping on desktop to avoid ellipsis */
.loan-location-cell {
  white-space: normal !important;
  word-break: break-word;
  overflow-wrap: anywhere;
  max-width: 100%;
}
.loan-location-cell .ant-typography {
  font-size: 12px;
  line-height: 1.2;
}

.loan-modal .ant-modal-body {
  padding: 20px;
}

.loan-modal-content {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.corporate-table {
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
  overflow: hidden;
}

.corporate-table .ant-table-thead > tr > th {
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  text-align: center;
  /* Use table header theme variables to ensure correct light/dark rendering */
  background: var(--table-header-bg, #fafafa) !important;
  color: var(--table-header-color, var(--loan-th-color, #434343)) !important;
}

/* (intentionally left for future hover styles) */

/* .loan-table .loan-status-card {
  background: #f9fafb;
  border: 1px solid #f0f0f0;
  border-radius: 8px;
  padding: 2px 7px;
} */

/* Compact Status Summary styling */
.loan-status-card.compact {
  /* remove background and border per request */
  background: transparent;
  border: none;
  padding: 0;
}

.loan-status-card .status-row {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 6px;
  margin-bottom: 4px;
}

.loan-status-card .status-row.with-action {
  justify-content: space-between;
}

.loan-status-card .status-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

.loan-status-card .status-label {
  width: 110px;
  font-size: 11px;
  color: var(--loan-label-color, inherit);
}

.loan-status-card .status-tag {
  line-height: 18px;
  height: 20px;
  font-size: 11px;
  padding: 0 6px;
  /* Let Ant Design Tag color determine background and font color */
}

.loan-status-card .status-closed {
  margin-top: 6px;
  text-align: center;
}

@media (max-width: 768px) {
  .loan-filters {
    flex-direction: column;
    gap: 8px;
  }

  .loan-search {
    width: 100% !important;
  }

  .loan-select {
    width: 100% !important;
  }
}

/* iPad specific: slightly reduce fixed widths to fit tablet */
@media (min-width: 768px) and (max-width: 834px) {
  .loan-search {
    max-width: 280px !important;
  }
  .loan-select {
    max-width: 160px !important;
  }
}

/* Tablet screens up to 1080px: tighten layout and ensure table fits */
@media (max-width: 1080px) {
  .loan-card .ant-card-body {
    padding: 12px !important;
  }

  .loan-filters {
    gap: 8px;
    font-size: 10px;
  }

  .loan-search {
    max-width: 200px !important;
    font-size: 11px;
  }
  .loan-select {
    max-width: 120px !important;
    font-size: 11px;
  }
  .loan-select .ant-select-selection-item {
    font-size: 11px;
  }
  .loan-select .ant-select-selection-placeholder {
    font-size: 11px;
  }

  /* Compact table header and body for tablets */
  .loan-table .ant-table-thead > tr > th {
    padding: 6px 6px !important;
    font-size: 12px;
  }
  .loan-table .ant-table-tbody > tr > td {
    padding: 6px 6px !important;
    font-size: 10px;
  }

  /* On tablet, keep location compact too */
  .loan-location-cell .ant-typography {
    font-size: 11px;
    line-height: 1.2;
  }

  /* Status summary labels shorter at tablet */
  .loan-status-card .status-label {
    width: 96px;
    font-size: 10px;
  }
  /* Also target nested strong inside Ant Typography to ensure size sticks */
  .loan-status-card .status-label strong {
    font-size: 10px !important;
    line-height: 1.1;
  }
  .loan-status-card .status-tag {
    height: 16px;
    line-height: 14px;
    font-size: 9px;
    padding: 0 4px;
  }

  /* Actions column buttons a bit smaller */
  .loan-table .ant-btn {
    height: 24px;
    padding: 0 8px;
    font-size: 12px;
  }

  /* Table title smaller */
  .loan-card .ant-typography {
    font-size: 16px;
  }
  /* Ensure status labels remain compact on tablet (override generic typography size) */
  .loan-status-card .status-label.ant-typography {
    font-size: 10px !important;
  }

  /* Tablet: smaller fonts for key cells */
  .loan-loanno-cell .ant-typography {
    font-size: 12px;
  }
  .loan-clientname-cell .ant-typography {
    font-size: 12px;
  }
  .loan-loandetails-cell .loan-amount-text {
    font-size: 12px;
  }
  .loan-loandetails-cell .loan-balance-text {
    font-size: 11px !important;
  }
  .loan-location-cell .ant-typography {
    font-size: 11px;
  }

  /* Loan Details: shrink payment mode tag on tablet */
  .loan-loandetails-cell .ant-tag {
    height: 18px;
    line-height: 16px;
    font-size: 10px;
    padding: 0 6px;
  }

  /* Actions column alignment and compact width */
  .loan-actions-cell {
    display: flex;
    justify-content: center;
  }
  .loan-actions-cell .ant-space {
    gap: 6px !important;
  }
    .loan-table .loan-actions-col { 
      width: 110px; 
      min-width: 110px; 
  }

  /* Footer: compact fonts for total count, pagination, and page sizer */
  .loan-table .ant-table-footer .ant-typography {
    font-size: 11px !important;
  }
  .loan-table .ant-table-footer .ant-pagination,
  .loan-table .ant-table-footer .ant-pagination .ant-pagination-item,
  .loan-table .ant-table-footer .ant-pagination .ant-pagination-item a,
  .loan-table .ant-table-footer .ant-pagination .ant-pagination-item-link,
  .loan-table
    .ant-table-footer
    .ant-pagination
    .ant-pagination-prev
    .ant-pagination-item-link,
  .loan-table
    .ant-table-footer
    .ant-pagination
    .ant-pagination-next
    .ant-pagination-item-link {
    font-size: 11px;
  }
  .loan-table .ant-table-footer .ant-select,
  .loan-table .ant-table-footer .ant-select .ant-select-selector,
  .loan-table .ant-table-footer .ant-select .ant-select-selection-item,
  .loan-table .ant-table-footer .ant-select .ant-select-selection-placeholder,
  .loan-table .ant-table-footer .ant-select .ant-select-arrow {
    font-size: 11px;
  }

  /* Force narrower column widths via colgroup on tablets */
  .loan-table .ant-table colgroup col:nth-child(1) {
     width: 150px !important;
     min-width: 150px !important;
  }
  .loan-table .ant-table colgroup col:nth-child(2) {
     width: 200px !important;
     min-width: 200px !important;
  }
  .loan-table .ant-table colgroup col:nth-child(3) {
     width: 120px !important; 
     min-width: 120px !important; 
  }
  .loan-table .ant-table colgroup col:nth-child(4) {
     width: 180px !important;
     min-width: 180px !important; 
  }
  .loan-table .ant-table colgroup col:nth-child(5) {
     width: 230px !important; 
     min-width: 230px !important; 
  }
  .loan-table .ant-table colgroup col:nth-child(6) {
     width: 110px !important; 
     min-width: 110px !important; 
  }

  /* Mirror widths on header and body cells for robustness */
  .loan-table .ant-table-thead > tr > th:nth-child(1),
  .loan-table .ant-table-tbody > tr > td:nth-child(1) {
     width: 150px !important; 
     max-width: 150px; 
  }
  .loan-table .ant-table-thead > tr > th:nth-child(2),
  .loan-table .ant-table-tbody > tr > td:nth-child(2) {
     width: 200px !important; 
     max-width: 200px; 
  }
  .loan-table .ant-table-thead > tr > th:nth-child(3),
  .loan-table .ant-table-tbody > tr > td:nth-child(3) {
     width: 120px !important; 
     max-width: 120px; 
  }
  .loan-table .ant-table-thead > tr > th:nth-child(4),
  .loan-table .ant-table-tbody > tr > td:nth-child(4) {
     width: 180px !important; 
     max-width: 180px; 
  }
  .loan-table .ant-table-thead > tr > th:nth-child(5),
  .loan-table .ant-table-tbody > tr > td:nth-child(5) {
     width: 230px !important; 
     max-width: 230px; 
  }
  .loan-table .ant-table-thead > tr > th:nth-child(6),
  .loan-table .ant-table-tbody > tr > td:nth-child(6) {
     width: 110px !important; 
     max-width: 110px; 
  }
}

/* Wider tablets (e.g., iPad Pro landscape ~1194px): keep labels compact */
@media (max-width: 1280px) {
  .loan-status-card .status-label {
    font-size: 10px !important;
  }
}

/* Loans page: reduce primary button border radius */
.loan-card .ant-btn-primary:not(.ant-btn-circle):not(.ant-btn-round) {
  border-radius: 4px !important;
}

/* LoanInfoTab table: left-align tag values and compact size */
.loan-info-table .ant-tag {
  display: inline-flex;
  align-items: center;
  justify-content: flex-start;
  font-size: 11px;
  height: 20px;
  line-height: 18px;
  padding: 0 6px;
}

.loan-info-table .ant-table-cell {
  vertical-align: middle;
  text-align: left;
}

/* Exclusions: keep Remarks and Action columns from forced left alignment */
.loan-info-table .col-remarks,
.loan-info-table .col-action,
.loan-info-table .col-remarks .ant-table-cell,
.loan-info-table .col-action .ant-table-cell {
  text-align: inherit;
}

/* LoanDetailsModal: left-aligned rows in Loan No. & Status column */
.info-row {
  display: flex;
  align-items: center;
  gap: 4px;
  margin-top: 0; /* remove top margin on first row */
}

/* add small spacing only between consecutive rows */
.info-row + .info-row {
  margin-top: 2px;
}

.info-label {
  min-width: 92px; /* keep labels aligned */
  font-weight: 600;
  font-size: 12px;
}

.info-value {
  font-size: 12px;
}

.info-tag {
  font-size: 11px !important;
  height: 20px;
  line-height: 18px;
  padding: 0 6px;
}

/* Loans table: compact header height */
.loan-table .ant-table-thead > tr > th {
  padding: 6px 8px !important; /* reduce vertical padding */
  line-height: 18px; /* tighten text line height */
  /* Reinforce header background/text per theme for Loans table specifically */
  background: var(--table-header-bg, #fafafa) !important;
  color: var(--table-header-color, #262626) !important;
}

.loan-table .ant-table-thead > tr {
  height: 32px; /* target a compact header row */
}

/* Reduce overall page padding inside the Loans card */
.loan-card .ant-card-body {
  padding: 16px !important; /* was larger by default; make the page tighter */
}

/* Ensure Loans table rows always use theme-aware backgrounds/text */
.loan-table .ant-table-tbody > tr > td {
  background: var(--table-bg, #ffffff) !important;
  color: var(--table-text-color, #1f1f1f) !important;
}
.loan-table .ant-table-tbody > tr:hover > td {
  background: var(--table-row-hover-bg, #f5f5f5) !important;
}
.loan-table .ant-table-tbody > tr:active > td,
.loan-table .ant-table-tbody > tr:focus > td {
  background: var(--table-row-selected-bg, #e6f7ff) !important;
}
.loan-table .ant-table-tbody > tr.ant-table-row-selected > td,
.loan-table .ant-table-tbody > tr.ant-table-row-selected:hover > td {
  background: var(--table-row-selected-bg, #e6f7ff) !important;
}

/* Ensure Loans page leaves extra space at the bottom for the fixed app footer */
.loans-with-bottom-gap {
  padding-bottom: 24px; /* base gap for small screens */
}
@media (min-width: 768px) {
  .loans-with-bottom-gap {
    padding-bottom: 36px; /* larger gap for desktop */
  }
}
